(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,70273,e=>{"use strict";let t=(0,e.i(75254).default)("star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);e.s(["Star",()=>t],70273)},81418,e=>{"use strict";let t=(0,e.i(75254).default)("shield-check",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);e.s(["ShieldCheck",()=>t],81418)},95468,e=>{"use strict";let t=(0,e.i(75254).default)("circle-check",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);e.s(["CheckCircle2",()=>t],95468)},63209,e=>{"use strict";let t=(0,e.i(75254).default)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);e.s(["AlertCircle",()=>t],63209)},70756,e=>{"use strict";let t=(0,e.i(75254).default)("lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);e.s(["Lock",()=>t],70756)},14764,e=>{"use strict";let t=(0,e.i(75254).default)("send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);e.s(["Send",()=>t],14764)},97241,e=>{"use strict";var t=e.i(43476),a=e.i(48148),r=e.i(95468),s=e.i(78583),l=e.i(81418);let i=(0,e.i(75254).default)("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);var n=e.i(14764),o=e.i(47163);function d({currentStep:e}){let d=(0,a.useTranslations)("Dashboard.Status"),c=[{id:1,key:"received",icon:s.FileText},{id:2,key:"validated",icon:l.ShieldCheck},{id:3,key:"queue",icon:i},{id:4,key:"ready",icon:n.Send}];return(0,t.jsx)("div",{className:"w-full py-8",children:(0,t.jsxs)("div",{className:"relative flex justify-between items-center max-w-3xl mx-auto",children:[(0,t.jsx)("div",{className:"absolute top-1/2 left-0 w-full h-1 bg-gray-200 -z-10 transform -translate-y-1/2 rounded-full"}),(0,t.jsx)("div",{className:"absolute top-1/2 left-0 h-1 bg-success-green -z-10 transform -translate-y-1/2 rounded-full transition-all duration-1000 ease-out",style:{width:`${(e-1)/(c.length-1)*100}%`}}),c.map(a=>{let s=a.id<=e,l=a.id===e,i=a.icon;return(0,t.jsxs)("div",{className:"flex flex-col items-center gap-3 relative group",children:[(0,t.jsx)("div",{className:(0,o.cn)("w-12 h-12 rounded-full flex items-center justify-center border-4 transition-all duration-500 z-10 bg-white",s?"border-success-green text-success-green shadow-lg scale-110":"border-gray-200 text-gray-300"),children:s?(0,t.jsx)(r.CheckCircle2,{className:"w-6 h-6"}):(0,t.jsx)(i,{className:"w-5 h-5"})}),(0,t.jsx)("div",{className:"absolute top-14 w-32 text-center",children:(0,t.jsx)("span",{className:(0,o.cn)("text-xs font-bold uppercase tracking-wider transition-colors duration-300",s?"text-trust-navy":"text-gray-400",l&&"text-success-green scale-105"),children:d(a.key)})})]},a.id)})]})})}e.s(["StatusTracker",()=>d],97241)},67585,(e,t,a)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"BailoutToCSR",{enumerable:!0,get:function(){return s}});let r=e.r(32061);function s({reason:e,children:t}){if("undefined"==typeof window)throw Object.defineProperty(new r.BailoutToCSRError(e),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0});return t}},9885,(e,t,a)=>{"use strict";function r(e){return e.split("/").map(e=>encodeURIComponent(e)).join("/")}Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"encodeURIPath",{enumerable:!0,get:function(){return r}})},52157,(e,t,a)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"PreloadChunks",{enumerable:!0,get:function(){return n}});let r=e.r(43476),s=e.r(74080),l=e.r(63599),i=e.r(9885);function n({moduleIds:e}){if("undefined"!=typeof window)return null;let t=l.workAsyncStorage.getStore();if(void 0===t)return null;let a=[];if(t.reactLoadableManifest&&e){let r=t.reactLoadableManifest;for(let t of e){if(!r[t])continue;let e=r[t].files;a.push(...e)}}return 0===a.length?null:(0,r.jsx)(r.Fragment,{children:a.map(e=>{let a=`${t.assetPrefix}/_next/${(0,i.encodeURIPath)(e)}`;return e.endsWith(".css")?(0,r.jsx)("link",{precedence:"dynamic",href:a,rel:"stylesheet",as:"style",nonce:t.nonce},e):((0,s.preload)(a,{as:"script",fetchPriority:"low",nonce:t.nonce}),null)})})}},69093,(e,t,a)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"default",{enumerable:!0,get:function(){return d}});let r=e.r(43476),s=e.r(71645),l=e.r(67585),i=e.r(52157);function n(e){return{default:e&&"default"in e?e.default:e}}let o={loader:()=>Promise.resolve(n(()=>null)),loading:null,ssr:!0},d=function(e){let t={...o,...e},a=(0,s.lazy)(()=>t.loader().then(n)),d=t.loading;function c(e){let n=d?(0,r.jsx)(d,{isLoading:!0,pastDelay:!0,error:null}):null,o=!t.ssr||!!t.loading,c=o?s.Suspense:s.Fragment,u=t.ssr?(0,r.jsxs)(r.Fragment,{children:["undefined"==typeof window?(0,r.jsx)(i.PreloadChunks,{moduleIds:t.modules}):null,(0,r.jsx)(a,{...e})]}):(0,r.jsx)(l.BailoutToCSR,{reason:"next/dynamic",children:(0,r.jsx)(a,{...e})});return(0,r.jsx)(c,{...o?{fallback:n}:{},children:u})}return c.displayName="LoadableComponent",c}},70703,(e,t,a)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"default",{enumerable:!0,get:function(){return s}});let r=e.r(55682)._(e.r(69093));function s(e,t){let a={};"function"==typeof e&&(a.loader=e);let s={...a,...t};return(0,r.default)({...s,modules:s.loadableGenerated?.modules})}("function"==typeof a.default||"object"==typeof a.default&&null!==a.default)&&void 0===a.default.__esModule&&(Object.defineProperty(a.default,"__esModule",{value:!0}),Object.assign(a.default,a),t.exports=a.default)},32481,e=>{"use strict";var t=e.i(43476);let a=(0,e.i(70703).default)(()=>e.A(13).then(e=>e.DownloadReportButton),{loadableGenerated:{modules:[68970]},ssr:!1});function r({data:e}){return(0,t.jsx)(a,{data:e})}e.s(["SafeDownloadButton",()=>r])},63048,e=>{"use strict";var t=e.i(43476),a=e.i(71645),r=e.i(67881),s=e.i(70065),l=e.i(75254);let i=(0,l.default)("mic",[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["rect",{x:"9",y:"2",width:"6",height:"13",rx:"3",key:"s6n7sd"}]]),n=(0,l.default)("play",[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]]),o=(0,l.default)("circle-stop",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["rect",{x:"9",y:"9",width:"6",height:"6",rx:"1",key:"1ssd4o"}]]),d=(0,l.default)("volume-2",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]]);var c=e.i(48148);function u(){(0,c.useTranslations)("Common");let[e,l]=(0,a.useState)(!1),[u,f]=(0,a.useState)(!1),[m,p]=(0,a.useState)(null);return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"bg-gradient-to-r from-trust-navy to-blue-900 text-white p-8 rounded-lg shadow-lg",children:[(0,t.jsx)("h2",{className:"text-2xl font-serif font-bold mb-2",children:"AI Consul Simulator"}),(0,t.jsx)("p",{className:"opacity-90",children:"Practice your interview with our Voice-Enabled Virtual Officer."})]}),(0,t.jsxs)("div",{className:"grid md:grid-cols-2 gap-6",children:[(0,t.jsxs)(s.Card,{className:"p-6 flex flex-col items-center justify-center min-h-[300px] bg-gray-50 border-2 border-dashed border-gray-200",children:[(0,t.jsxs)("div",{className:"w-24 h-24 bg-gray-200 rounded-full flex items-center justify-center mb-4 relative",children:[u&&(0,t.jsx)("div",{className:"absolute inset-0 bg-blue-400 rounded-full animate-ping opacity-20"}),(0,t.jsx)(d,{size:40,className:"text-gray-600"})]}),(0,t.jsx)("p",{className:"text-lg font-medium text-center mb-6",children:'"What is the specific purpose of your trip to the United States?"'}),(0,t.jsxs)(r.Button,{variant:"outline",onClick:()=>f(!u),className:"gap-2",children:[u?(0,t.jsx)(o,{size:16}):(0,t.jsx)(n,{size:16}),u?"Stop Audio":"Replay Question"]})]}),(0,t.jsxs)(s.Card,{className:"p-6 flex flex-col items-center justify-center min-h-[300px]",children:[(0,t.jsx)("div",{className:`w-20 h-20 rounded-full flex items-center justify-center mb-6 transition-colors ${e?"bg-red-100 text-red-600":"bg-blue-50 text-blue-600"}`,children:(0,t.jsx)(i,{size:32,className:e?"animate-pulse":""})}),(0,t.jsx)(r.Button,{size:"lg",className:`w-full max-w-xs mb-6 ${e?"bg-red-500 hover:bg-red-600":""}`,onClick:()=>{e?(l(!1),setTimeout(()=>{p("Good confidence, but try to be more specific about your travel dates. Avoid vague answers like 'maybe in summer'.")},1500)):(l(!0),p(null))},children:e?"Stop Recording":"Start Speaking"}),m&&(0,t.jsxs)("div",{className:"bg-yellow-50 border border-yellow-200 p-4 rounded-md text-sm text-yellow-800 w-full",children:[(0,t.jsx)("p",{className:"font-bold mb-1",children:"AI Feedback:"}),m]})]})]})]})}e.s(["InterviewSimulator",()=>u],63048)},7402,e=>{"use strict";var t=e.i(43476),a=e.i(71645),r=e.i(67881),s=e.i(70065),l=e.i(61745),i=e.i(48148),n=e.i(70756),o=e.i(81418),d=e.i(72520),c=e.i(70273),u=e.i(18566);function f({applicationId:e,plan:f,price:m}){let[p,x]=(0,a.useState)(!1),h=(0,l.useLocale)();(0,u.useRouter)();let y=(0,i.useTranslations)("Dashboard"),b=async()=>{x(!0);try{let t=await fetch("/api/checkout",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({plan:f,locale:h,applicationId:e})}),{url:a}=await t.json();a?window.location.href=a:(console.error("No URL returned from checkout"),x(!1))}catch(e){console.error("Payment Error:",e),x(!1)}};return(0,t.jsx)(s.Card,{className:"w-full bg-gradient-to-br from-trust-navy to-blue-900 text-white overflow-hidden shadow-xl border-0",children:(0,t.jsxs)("div",{className:"p-8 md:p-12 text-center relative",children:[(0,t.jsx)("div",{className:"absolute top-0 right-0 p-12 opacity-5 pointer-events-none",children:(0,t.jsx)(o.ShieldCheck,{size:200})}),(0,t.jsxs)("div",{className:"relative z-10 flex flex-col items-center",children:[(0,t.jsx)("div",{className:"bg-white/10 p-4 rounded-full mb-6 backdrop-blur-sm",children:(0,t.jsx)(n.Lock,{className:"w-10 h-10 text-accent-gold"})}),(0,t.jsx)("h2",{className:"text-3xl md:text-4xl font-serif font-bold mb-4",children:y("paymentGate.title",{defaultMessage:"Unlock Your Application"})}),(0,t.jsx)("p",{className:"text-white/80 text-lg max-w-xl mx-auto mb-8 leading-relaxed",children:y("paymentGate.description",{defaultMessage:"Your application data is complete and analyzing is finished. Proceed with payment to unlock your personalized strategy and download your documents."})}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 w-full max-w-lg mb-8 text-left",children:[(0,t.jsxs)("div",{className:"bg-white/5 p-4 rounded border border-white/10 flex items-center gap-3",children:[(0,t.jsx)(c.Star,{className:"text-accent-gold shrink-0",size:20}),(0,t.jsx)("span",{className:"font-medium text-sm",children:"Full VisaScore™ Report"})]}),(0,t.jsxs)("div",{className:"bg-white/5 p-4 rounded border border-white/10 flex items-center gap-3",children:[(0,t.jsx)(c.Star,{className:"text-accent-gold shrink-0",size:20}),(0,t.jsx)("span",{className:"font-medium text-sm",children:"DS-160 Validated PDF"})]})]}),(0,t.jsxs)(r.Button,{size:"lg",onClick:b,disabled:p,className:"bg-accent-gold hover:bg-yellow-500 text-trust-navy font-bold text-xl px-12 py-8 rounded-lg shadow-lg transform transition hover:scale-105",children:[p?"Processing...":y("paymentGate.button",{price:m,defaultMessage:`Pay ${m} to Unlock`}),!p&&(0,t.jsx)(d.ArrowRight,{className:"ml-2 w-6 h-6"})]}),(0,t.jsxs)("p",{className:"mt-6 text-xs text-white/50 flex items-center gap-1",children:[(0,t.jsx)(o.ShieldCheck,{size:12})," Secure SSL Payment via Stripe"]})]})]})})}e.s(["PaymentGate",()=>f])},98136,e=>{"use strict";var t=e.i(43476),a=e.i(71645),r=e.i(67881),s=e.i(70065),l=e.i(94179),i=e.i(30030),n=e.i(75830),o=e.i(20783),d=e.i(81140),c=e.i(69340),u=e.i(48425),f=e.i(34620),m=e.i(96626),p=e.i(10772),x="Collapsible",[h,y]=(0,i.createContextScope)(x),[b,g]=h(x),j=a.forwardRef((e,r)=>{let{__scopeCollapsible:s,open:l,defaultOpen:i,disabled:n,onOpenChange:o,...d}=e,[f,m]=(0,c.useControllableState)({prop:l,defaultProp:i??!1,onChange:o,caller:x});return(0,t.jsx)(b,{scope:s,disabled:n,contentId:(0,p.useId)(),open:f,onOpenToggle:a.useCallback(()=>m(e=>!e),[m]),children:(0,t.jsx)(u.Primitive.div,{"data-state":S(f),"data-disabled":n?"":void 0,...d,ref:r})})});j.displayName=x;var v="CollapsibleTrigger",w=a.forwardRef((e,a)=>{let{__scopeCollapsible:r,...s}=e,l=g(v,r);return(0,t.jsx)(u.Primitive.button,{type:"button","aria-controls":l.contentId,"aria-expanded":l.open||!1,"data-state":S(l.open),"data-disabled":l.disabled?"":void 0,disabled:l.disabled,...s,ref:a,onClick:(0,d.composeEventHandlers)(e.onClick,l.onOpenToggle)})});w.displayName=v;var N="CollapsibleContent",k=a.forwardRef((e,a)=>{let{forceMount:r,...s}=e,l=g(N,e.__scopeCollapsible);return(0,t.jsx)(m.Presence,{present:r||l.open,children:({present:e})=>(0,t.jsx)(C,{...s,ref:a,present:e})})});k.displayName=N;var C=a.forwardRef((e,r)=>{let{__scopeCollapsible:s,present:l,children:i,...n}=e,d=g(N,s),[c,m]=a.useState(l),p=a.useRef(null),x=(0,o.useComposedRefs)(r,p),h=a.useRef(0),y=h.current,b=a.useRef(0),j=b.current,v=d.open||c,w=a.useRef(v),k=a.useRef(void 0);return a.useEffect(()=>{let e=requestAnimationFrame(()=>w.current=!1);return()=>cancelAnimationFrame(e)},[]),(0,f.useLayoutEffect)(()=>{let e=p.current;if(e){k.current=k.current||{transitionDuration:e.style.transitionDuration,animationName:e.style.animationName},e.style.transitionDuration="0s",e.style.animationName="none";let t=e.getBoundingClientRect();h.current=t.height,b.current=t.width,w.current||(e.style.transitionDuration=k.current.transitionDuration,e.style.animationName=k.current.animationName),m(l)}},[d.open,l]),(0,t.jsx)(u.Primitive.div,{"data-state":S(d.open),"data-disabled":d.disabled?"":void 0,id:d.contentId,hidden:!v,...n,ref:x,style:{"--radix-collapsible-content-height":y?`${y}px`:void 0,"--radix-collapsible-content-width":j?`${j}px`:void 0,...e.style},children:v&&i})});function S(e){return e?"open":"closed"}var R=e.i(86318),P="Accordion",_=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[A,z,O]=(0,n.createCollection)(P),[M,I]=(0,i.createContextScope)(P,[O,y]),D=y(),T=a.default.forwardRef((e,a)=>{let{type:r,...s}=e;return(0,t.jsx)(A.Provider,{scope:e.__scopeAccordion,children:"multiple"===r?(0,t.jsx)($,{...s,ref:a}):(0,t.jsx)(F,{...s,ref:a})})});T.displayName=P;var[L,B]=M(P),[E,U]=M(P,{collapsible:!1}),F=a.default.forwardRef((e,r)=>{let{value:s,defaultValue:l,onValueChange:i=()=>{},collapsible:n=!1,...o}=e,[d,u]=(0,c.useControllableState)({prop:s,defaultProp:l??"",onChange:i,caller:P});return(0,t.jsx)(L,{scope:e.__scopeAccordion,value:a.default.useMemo(()=>d?[d]:[],[d]),onItemOpen:u,onItemClose:a.default.useCallback(()=>n&&u(""),[n,u]),children:(0,t.jsx)(E,{scope:e.__scopeAccordion,collapsible:n,children:(0,t.jsx)(G,{...o,ref:r})})})}),$=a.default.forwardRef((e,r)=>{let{value:s,defaultValue:l,onValueChange:i=()=>{},...n}=e,[o,d]=(0,c.useControllableState)({prop:s,defaultProp:l??[],onChange:i,caller:P}),u=a.default.useCallback(e=>d((t=[])=>[...t,e]),[d]),f=a.default.useCallback(e=>d((t=[])=>t.filter(t=>t!==e)),[d]);return(0,t.jsx)(L,{scope:e.__scopeAccordion,value:o,onItemOpen:u,onItemClose:f,children:(0,t.jsx)(E,{scope:e.__scopeAccordion,collapsible:!0,children:(0,t.jsx)(G,{...n,ref:r})})})}),[H,q]=M(P),G=a.default.forwardRef((e,r)=>{let{__scopeAccordion:s,disabled:l,dir:i,orientation:n="vertical",...c}=e,f=a.default.useRef(null),m=(0,o.useComposedRefs)(f,r),p=z(s),x="ltr"===(0,R.useDirection)(i),h=(0,d.composeEventHandlers)(e.onKeyDown,e=>{if(!_.includes(e.key))return;let t=e.target,a=p().filter(e=>!e.ref.current?.disabled),r=a.findIndex(e=>e.ref.current===t),s=a.length;if(-1===r)return;e.preventDefault();let l=r,i=s-1,o=()=>{(l=r+1)>i&&(l=0)},d=()=>{(l=r-1)<0&&(l=i)};switch(e.key){case"Home":l=0;break;case"End":l=i;break;case"ArrowRight":"horizontal"===n&&(x?o():d());break;case"ArrowDown":"vertical"===n&&o();break;case"ArrowLeft":"horizontal"===n&&(x?d():o());break;case"ArrowUp":"vertical"===n&&d()}let c=l%s;a[c].ref.current?.focus()});return(0,t.jsx)(H,{scope:s,disabled:l,direction:i,orientation:n,children:(0,t.jsx)(A.Slot,{scope:s,children:(0,t.jsx)(u.Primitive.div,{...c,"data-orientation":n,ref:m,onKeyDown:l?void 0:h})})})}),V="AccordionItem",[K,W]=M(V),J=a.default.forwardRef((e,a)=>{let{__scopeAccordion:r,value:s,...l}=e,i=q(V,r),n=B(V,r),o=D(r),d=(0,p.useId)(),c=s&&n.value.includes(s)||!1,u=i.disabled||e.disabled;return(0,t.jsx)(K,{scope:r,open:c,disabled:u,triggerId:d,children:(0,t.jsx)(j,{"data-orientation":i.orientation,"data-state":ea(c),...o,...l,ref:a,disabled:u,open:c,onOpenChange:e=>{e?n.onItemOpen(s):n.onItemClose(s)}})})});J.displayName=V;var Y="AccordionHeader",Q=a.default.forwardRef((e,a)=>{let{__scopeAccordion:r,...s}=e,l=q(P,r),i=W(Y,r);return(0,t.jsx)(u.Primitive.h3,{"data-orientation":l.orientation,"data-state":ea(i.open),"data-disabled":i.disabled?"":void 0,...s,ref:a})});Q.displayName=Y;var X="AccordionTrigger",Z=a.default.forwardRef((e,a)=>{let{__scopeAccordion:r,...s}=e,l=q(P,r),i=W(X,r),n=U(X,r),o=D(r);return(0,t.jsx)(A.ItemSlot,{scope:r,children:(0,t.jsx)(w,{"aria-disabled":i.open&&!n.collapsible||void 0,"data-orientation":l.orientation,id:i.triggerId,...o,...s,ref:a})})});Z.displayName=X;var ee="AccordionContent",et=a.default.forwardRef((e,a)=>{let{__scopeAccordion:r,...s}=e,l=q(P,r),i=W(ee,r),n=D(r);return(0,t.jsx)(k,{role:"region","aria-labelledby":i.triggerId,"data-orientation":l.orientation,...n,...s,ref:a,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...e.style}})});function ea(e){return e?"open":"closed"}et.displayName=ee;var er=e.i(75254);let es=(0,er.default)("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);var el=e.i(47163);let ei=a.forwardRef(({className:e,...a},r)=>(0,t.jsx)(J,{ref:r,className:(0,el.cn)("border-b",e),...a}));ei.displayName="AccordionItem";let en=a.forwardRef(({className:e,children:a,...r},s)=>(0,t.jsx)(Q,{className:"flex",children:(0,t.jsxs)(Z,{ref:s,className:(0,el.cn)("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",e),...r,children:[a,(0,t.jsx)(es,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})}));en.displayName=Z.displayName;let eo=a.forwardRef(({className:e,children:a,...r},s)=>(0,t.jsx)(et,{ref:s,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...r,children:(0,t.jsx)("div",{className:(0,el.cn)("pb-4 pt-0",e),children:a})}));eo.displayName=et.displayName;let ed=(0,er.default)("pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);var ec=e.i(63209),eu=e.i(95187),ef=(0,eu.createServerReference)("40f20e0aa93ee74c03611d36c09fac5f8349abd5e2",eu.callServer,void 0,eu.findSourceMapURL,"resetDS160Field"),em=e.i(18566),ep=e.i(46696);function ex({className:e,size:a="md",...r}){return(0,t.jsxs)("div",{className:(0,el.cn)("animate-spin text-current",{sm:"h-4 w-4",md:"h-6 w-6",lg:"h-8 w-8"}[a],e),...r,children:[(0,t.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,t.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,t.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),(0,t.jsx)("span",{className:"sr-only",children:"Loading..."})]})}function eh({payload:e,schema:i}){let n=(0,em.useRouter)(),[o,d]=(0,a.useState)(null),c={};i.forEach(e=>{c[e.section]||(c[e.section]=[]),c[e.section].push(e)});let u=async e=>{try{d(e),await ef(e),ep.toast.success("Respuesta borrada. Redirigiendo al chat..."),n.push(`/assessment?focus=${e}`)}catch(e){ep.toast.error("Error al resetear la respuesta")}finally{d(null)}};return(0,t.jsxs)(s.Card,{className:"mt-8 border-trust-navy/10 shadow-sm",children:[(0,t.jsx)(s.CardHeader,{className:"bg-gray-50/50 border-b border-gray-100",children:(0,t.jsxs)(s.CardTitle,{className:"text-xl font-serif text-trust-navy flex items-center justify-between",children:[(0,t.jsx)("span",{children:"Revisión del Formulario DS-160"}),(0,t.jsxs)(l.Badge,{variant:"outline",className:"bg-white",children:[i.length," Preguntas Totales"]})]})}),(0,t.jsx)(s.CardContent,{className:"p-0",children:(0,t.jsx)(T,{type:"single",collapsible:!0,className:"w-full",children:Object.entries(c).map(([a,s])=>(0,t.jsxs)(ei,{value:a,className:"border-b",children:[(0,t.jsx)(en,{className:"px-6 hover:bg-gray-50 capitalize",children:(0,t.jsxs)("span",{className:"flex items-center gap-2",children:[a.replace(/_/g," "),(0,t.jsxs)(l.Badge,{variant:"secondary",className:"ml-2 text-xs",children:[s.length," preguntas"]})]})}),(0,t.jsx)(eo,{className:"bg-gray-50/30 px-6 py-4",children:(0,t.jsx)("div",{className:"space-y-4",children:s.map(a=>{let s=a.field_key.split(".").reduce((e,t)=>e&&e[t],e);return(0,t.jsxs)("div",{className:"flex items-start justify-between p-3 bg-white rounded border border-gray-100 shadow-sm",children:[(0,t.jsxs)("div",{className:"space-y-1 flex-1",children:[(0,t.jsx)("p",{className:"text-sm font-medium text-gray-700",children:a.question_es}),(0,t.jsx)("div",{className:"text-sm text-gray-500",children:null!=s&&""!==s?(0,t.jsx)("span",{className:"font-semibold text-trust-navy",children:"object"==typeof s?JSON.stringify(s):String(s)}):(0,t.jsxs)("span",{className:"text-amber-600 italic flex items-center gap-1",children:[(0,t.jsx)(ec.AlertCircle,{size:12})," Pendiente"]})})]}),(0,t.jsx)(r.Button,{size:"sm",variant:"ghost",className:"shrink-0 ml-4 text-trust-navy hover:text-trust-blue hover:bg-blue-50",onClick:()=>u(a.field_key),disabled:o===a.field_key,children:o===a.field_key?(0,t.jsx)(ex,{size:"sm"}):(0,t.jsx)(ed,{size:16})})]},a.field_key)})})})]},a))})})]})}e.s(["DS160Review",()=>eh],98136)},13,e=>{e.v(t=>Promise.all(["static/chunks/01420bcae9b8f4e5.js","static/chunks/d01e912b3a9f8a5a.js"].map(t=>e.l(t))).then(()=>t(68970)))}]);