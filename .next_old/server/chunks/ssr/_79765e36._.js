module.exports=[24870,a=>{"use strict";a.i(42537);var b=a.i(5860),c=a.i(5246);let d={client:{id:"00000000-0000-0000-0000-000000000001",email:"dev_applicant@example.com",role:"client"},admin:{id:"00000000-0000-0000-0000-000000000002",email:"dev_admin@example.com",role:"admin"},agent:{id:"00000000-0000-0000-0000-000000000003",email:"dev_agent@example.com",role:"agent"},client_fresh:{id:"00000000-0000-0000-0000-000000000004",email:"dev_fresh@example.com",role:"client_fresh"}};async function e(){let a=await (0,c.cookies)();{let b=a.get("x-dev-user")?.value;if(b&&d[b]){let a=d[b];return{data:{user:{id:a.id,email:a.email,role:"authenticated",aud:"authenticated",app_metadata:{provider:"email"},user_metadata:{name:`Dev ${b.charAt(0).toUpperCase()+b.slice(1)}`},created_at:new Date().toISOString()}},error:null}}}let e=(0,b.createServerClient)("https://inaxjdmofqbcoljxgnwr.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImluYXhqZG1vZnFiY29sanhnbndyIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjQ2ODM3MjcsImV4cCI6MjA4MDI1OTcyN30.zTcpvbRKcWJ4ecPKxgWUUvTaYC7wpB2s8SxFxE3IH8c",{cookies:{get:b=>a.get(b)?.value,set(b,c,d){try{a.set({name:b,value:c,...d})}catch(a){}},remove(b,c){try{a.set({name:b,value:"",...c})}catch(a){}}}});return await e.auth.getUser()}a.s(["DEV_USERS",0,d,"getCurrentUser",()=>e])},58552,a=>{"use strict";var b=a.i(37936);a.i(42537);var c=a.i(5860),d=a.i(5246),e=a.i(18558),f=a.i(24870);async function g(a){let{data:{user:b}}=await (0,f.getCurrentUser)();if(!b)throw Error("Unauthorized");let g=await (0,d.cookies)(),h=(0,c.createServerClient)("https://inaxjdmofqbcoljxgnwr.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImluYXhqZG1vZnFiY29sanhnbndyIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjQ2ODM3MjcsImV4cCI6MjA4MDI1OTcyN30.zTcpvbRKcWJ4ecPKxgWUUvTaYC7wpB2s8SxFxE3IH8c",{cookies:{get:a=>g.get(a)?.value}}),{data:i,error:j}=await h.from("applications").select("ds160_payload").eq("user_id",b.id).single();if(j||!i)throw Error("Application not found");let k=i.ds160_payload,l=a.split("."),m=k;for(let a=0;a<l.length-1;a++)m[l[a]]||(m[l[a]]={}),m=m[l[a]];m[l[l.length-1]]=null;let{error:n}=await h.from("applications").update({ds160_payload:k}).eq("user_id",b.id);if(n)throw Error(n.message);return(0,e.revalidatePath)("/dashboard"),{success:!0}}(0,a.i(13095).ensureServerEntryExports)([g]),(0,b.registerServerReference)(g,"40f20e0aa93ee74c03611d36c09fac5f8349abd5e2",null),a.s([],67852),a.i(67852),a.s(["40f20e0aa93ee74c03611d36c09fac5f8349abd5e2",()=>g],58552)}];

//# sourceMappingURL=_79765e36._.js.map